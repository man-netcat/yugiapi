<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YugiAPI Dashboard</title>
</head>

<body>

    <form method="post" action="/set_connection">
        <p>Active Database: {{ active_db_name }}</p>

        <div>
            <button type="submit" name="db_type" value="yugidb">YugiDB</button>
            <label for="connection_string">Database Connection String (YugiDB only):</label>
            <input type="text" id="connection_string" name="connection_string">
        </div>

        <div>
            <button type="submit" name="db_type" value="omegadb">OmegaDB</button>
        </div>
    </form>

    {% if error_message %}
    <script>
        alert("Error: {{ error_message }}");
    </script>
    {% endif %}

    <h1>YugiAPI Dashboard</h1>

    <h2>Query Cards</h2>
    <form id="cardForm" method="get" action="/cards">
        <input type="text" id="card_id" name="name" list="cardList" required>
        <datalist id="cardList">
            {% for card_name, card_id in card_dropdown_options %}
            <option value="{{ card_name }}" data-id="{{ card_id }}"></option>
            {% endfor %}
        </datalist>
        <button type="submit">Query Card</button>
    </form>

    <h2>Query Archetypes</h2>
    <form id="archetypeForm" method="get" action="/archetypes">
        <input type="text" id="archetype_id" name="name" list="archetypeList" required>
        <datalist id="archetypeList">
            {% for archetype_name, archetype_id in archetype_dropdown_options %}
            <option value="{{ archetype_name }}" data-id="{{ archetype_id }}"></option>
            {% endfor %}
        </datalist>
        <button type="submit">Query Archetype</button>
    </form>

    <h2>Query Sets</h2>
    <form id="setForm" method="get" action="/sets">
        <input type="text" id="set_id" name="name" list="setList" required>
        <datalist id="setList">
            {% for set_name, set_id in set_dropdown_options %}
            <option value="{{ set_name }}" data-id="{{ set_id }}"></option>
            {% endfor %}
        </datalist>
        <button type="submit">Query Set</button>
    </form>

</body>

</html>